<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Andrew a41k - Web Developer Portfolio showcasing projects in web development and programming">
    <title>Andrew a41k | Portfolio</title>
    <link rel="stylesheet" href="styles.css">
    <script src="song-data.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/x-icon" href="images/Favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">A41K</a>
                <div class="nav-links" id="navLinks">
                    <a href="#" class="active" data-translate="Nav1">Home</a>
                    <a href="#projects" data-translate="Nav2">Projects</a>
                    <a href="https://a41k.github.io/Projects" data-translate="Nav3">Games</a>
                    <a href="http://a41k.me/Archive-Portfolio/" data-translate="Nav4">Archive</a>
                </div>

                <div class="language-switcher">
                    <button onclick="toggleLanguage()">EN</button>
                </div>

                <div class="hamburger" id="hamburger">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 12H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="greeting-container">
                <div class="greeting">
                    <span class="hi">Hi</span>
                    <span class="hey">Hey</span>
                    <span class="hello">Hello</span>
                </div>
                <p class="tagline" data-translate="Portfolio">This is my portfolio</p>
                <p class="subtitle" data-translate="Port2">You can find all my projects here</p>
                <a href="#projects" class="cta-button" data-translate="Button">View My Work</a>
            </div>
        </div>
    </section>

    <section class="introduction">
        <div class="container">
            <h2 class="introduction-title" data-translate="Intro">Little introduction about myself:</h2>
            <p data-translate="about-text">Welcome to my humble abode. This website was made because my projects grew bigger and more in amount so I had to make a portfolio.</p>
            <p data-translate="me">I'm Andrew or A41K as known online. I've been making sites for 4-5 years now and started making them really and uploading for almost a year now. I do mostly for fun but also because I'm learning a lot</p>
        </div>
    </section>

    <section class="skills">
        <div class="container">
            <h2 class="section-title" data-translate="skill">My Skills</h2>
            <div class="skills-container">
                <div class="skill-category">
                    <h3>Frontend</h3>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>HTML/CSS</span>
                            <span>100%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>JavaScript</span>
                            <span>95%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>React</span>
                            <span>60%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 60%"></div>
                        </div>
                    </div>
                </div>
                <div class="skill-category">
                    <h3>Backend</h3>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Node.js</span>
                            <span>50%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 50%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Databases</span>
                            <span>45%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 45%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>API Design</span>
                            <span>30%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 30%"></div>
                        </div>
                    </div>
                </div>
                <div class="skill-category">
                    <h3>Tools & Others</h3>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Git</span>
                            <span>85%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>UI/UX Design</span>
                            <span>65%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 65%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Assembly</span>
                            <span>30%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: 30%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="projects" id="projects">
        <div class="container">
            <h2 class="section-title" data-translate="Prot">Featured Projects</h2>
            <div class="projects-grid">
                <div class="project-card">
                    <a href="https://a41k.github.io/Projects/"><img src="images/games.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>Personal Games Portfolio</h3>
                        <p>Another website dedicated to my own games/other projects I made over the months</p>
                        <div class="project-tags">
                            <span class="tag">HTML</span>
                            <span class="tag">CSS</span>
                            <span class="tag">JavaScript</span>
                        </div>
                    </div>
                </div>
                <div class="project-card">
                <a href="https://a41k.github.io/Hackathon2/"><img src="images/valve.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>Hackathon Project</h3>
                        <p>A two hand made project for the Cod√©dex hackathon</p>
                        <div class="project-tags">
                            <span class="tag">React</span>
                            <span class="tag">Node.js</span>
                            <span class="tag">API</span>
                        </div>
                    </div>
                </div>
                <div class="project-card">
                    <a href="https://a41k.framer.website"><img src="images/framer.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>Framer Prototype</h3>
                        <p>This was my original portfolio. Now this is the new one :D</p>
                        <div class="project-tags">
                            <span class="tag">Framer</span>
                            <span class="tag">UI/UX</span>
                            <span class="tag">Prototype</span>
                        </div>
                    </div>
                </div>
                <div class="project-card">
                    <a href="https://a41k.github.io/stamps/index.html"><img src="images/Stamp.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>School Project 1</h3>
                        <p>Mostly a school project but yeah also made this so lets showcase it</p>
                        <div class="project-tags">
                            <span class="tag">HTML</span>
                            <span class="tag">CSS</span>
                            <span class="tag">JavaScript</span>
                        </div>
                    </div>
                </div>
                <div class="project-card">
                    <a href="https://sport4life.github.io/"><img src="images/Sport4life.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>School Project 2</h3>
                        <p>A website for our school project company</p>
                        <div class="project-tags">
                            <span class="tag">HTML</span>
                            <span class="tag">CSS</span>
                            <span class="tag">JavaScript</span>
                        </div>
                    </div>
                </div>
                <div class="project-card">
                    <a href="https://a41k.github.io/SummerHackathon/"><img src="images/sipnplay.png" alt="Project preview" class="project-img"></a>
                    <div class="project-content">
                        <h3>Hackathon 1</h3>
                        <p>A very badly made first Hackathon project</p>
                        <div class="project-tags">
                            <span class="tag">HTML</span>
                            <span class="tag">CSS</span>
                            <span class="tag">JavaScript</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-translate="Quick">Quick Links</h3>
                    <a href="#" data-translate="Nav1">Home</a>
                    <a href="#projects" data-translate="Nav2">Projects</a>
                    <a href="https://a41k.github.io/Projects/" data-translate="Nav3">Games</a>
                    <a href="http://a41k.me/Archive-Portfolio/" data-translate="Nav4">Archive</a>
                </div>
                <div class="footer-section">
                    <h3 data-translate="Cont">Contact</h3>
                    <p>Email: a41koutside@gmail.com</p>
                    <div class="social-links">
                        <a href="https://github.com/A41K" aria-label="GitHub">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/%C3%A1rok-andr%C3%A1s-7584ab2b0/" aria-label="LinkedIn">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                            </svg>
                        </a>
                        <a href="https://x.com/A41KOF" aria-label="Twitter">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Andrew (a41k). All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="music-player" id="musicPlayer">
        <div class="player-button" id="playerButton">
            <img src="images/Music.avif" alt="Music Player">
        </div>
        
        <div class="content-container" id="contentContainer">
            <div class="back-button" id="backButton">‚Üê Back to Albums</div>
            <div class="album-list" id="albumList">
                <!-- Albums will be dynamically loaded here -->
            </div>
            <!-- Song Lists for Each Album -->
            <div class="song-list" id="songs-container">
                <!-- Songs will be dynamically loaded from song-data.js -->
            </div>

    
    <div class="floating-mini-player" id="floatingMiniPlayer">
          <img id="floatingAlbumCover" class="mini-album-art" src="Music.avif" alt="Album cover">
        <div class="mini-info">
            <div class="mini-title" id="floatingTitle">Not Playing</div>
            <div class="mini-artist" id="floatingArtist"></div>
        </div>
<div class="mini-controls">
    <div class="mini-prev" id="floatingPrev">‚óÄ</div>
    <div class="mini-play-pause" id="floatingPlayPause">‚ñ∂</div>
    <div class="mini-next" id="floatingNext">‚ñ∂</div>
    <div class="mini-volume">
        <div class="mini-volume-icon">üîä</div>
        <input type="range" id="miniVolumeSlider" min="0" max="1" step="0.01" value="1" class="mini-volume-slider">
    </div>
</div>
    
    <div class="now-playing" id="nowPlaying">
        <div class="now-playing-top">
            <img id="albumCover" src="Song/covers/Disc.png" alt="Album cover">
            <div class="song-details">
                <div class="song-title" id="songTitle"></div>
                <div class="song-artist" id="songArtist"></div>
                <div class="song-album" id="songAlbum"></div>
            </div>
        </div>
        <div class="playback-controls">
            <div class="controls-wrapper">
                <div class="prev-track" id="prevTrack">‚óÄ</div>
                <div class="play-pause" id="playPause">‚ñ∂</div>
                <div class="next-track" id="nextTrack">‚ñ∂</div>
            </div>
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-handle" id="progressHandle"></div>
            </div>
            <div class="time" id="currentTime">0:00</div>
        </div>
        <div class="volume-container">
            <div class="volume-icon">üîä</div>
            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1" class="volume-slider">
        </div>
    </div>
    
    <audio id="audioPlayer"></audio>
     <script src="song-data.js"></script>
    <script src="translations.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Main Elements
            const musicPlayer = document.getElementById('musicPlayer');
            const playerButton = document.getElementById('playerButton');
            const contentContainer = document.getElementById('contentContainer');
            const albumList = document.getElementById('albumList');
            const backButton = document.getElementById('backButton');
            const nowPlaying = document.getElementById('nowPlaying');
            const albumCover = document.getElementById('albumCover');
            const songTitle = document.getElementById('songTitle');
            const songArtist = document.getElementById('songArtist');
            const songAlbum = document.getElementById('songAlbum');
            const floatingMiniPlayer = document.getElementById('floatingMiniPlayer');
            const floatingAlbumCover = document.getElementById('floatingAlbumCover');
            const floatingTitle = document.getElementById('floatingTitle');
            const floatingArtist = document.getElementById('floatingArtist');
            const volumeSlider = document.getElementById('volumeSlider');
            const miniVolumeSlider = document.getElementById('miniVolumeSlider');
            
            // Get all albums
            const albums = document.querySelectorAll('.album');
            let songs = []; // This will be populated dynamically
            
            // Audio Player and Controls
            const audioPlayer = document.getElementById('audioPlayer');
            const playPauseBtn = document.getElementById('playPause');
            const floatingPlayPause = document.getElementById('floatingPlayPause');
            const progressBar = document.getElementById('progressBar');
            const progressHandle = document.getElementById('progressHandle');
            const progressContainer = document.getElementById('progressContainer');
            const currentTime = document.getElementById('currentTime');
            const prevTrack = document.getElementById('prevTrack');
            const nextTrack = document.getElementById('nextTrack');
            const floatingPrev = document.getElementById('floatingPrev');
            const floatingNext = document.getElementById('floatingNext');
            
            // State
            let currentSong = null;
            let currentAlbumId = null;
            let isDragging = false;
            
            // Create a map of album songs for easy navigation
            const albumSongsMap = {};


            
            // Store last viewed song list to return to it when reopening the player
            let lastViewedSongList = null;

            // Function to load songs from song-data.js
            function loadSongs() {
                const container = document.getElementById('songs-container');
                container.innerHTML = ''; // Clear existing songs
                window.albums.forEach(album => {
                    album.songs.forEach((song, index) => {
                        const songDiv = document.createElement('div');
                        songDiv.className = 'song';
                        songDiv.setAttribute('data-title', song.title);
                        songDiv.setAttribute('data-album', album.name);
                        songDiv.setAttribute('data-artist', album.artist);
                        songDiv.setAttribute('data-cover', album.cover);
                        songDiv.setAttribute('data-audio', song.path);

                        songDiv.innerHTML = `
                            <div class="song-number">${index + 1}</div>
                            <div class="song-name">${song.title}</div>
                        `;
                        container.appendChild(songDiv);
                        songs.push(songDiv); // Add to the global songs array
                    });
                });
                attachSongEventListeners();
            }

            function attachSongEventListeners() {
                const songs = document.querySelectorAll('.song');
                songs.forEach(song => {
                    // Remove existing listeners to prevent duplicates
                    song.removeEventListener('click', handleSongClick);
                    song.addEventListener('click', handleSongClick);
                });
            }

            function handleSongClick(event) {
                const songDiv = event.currentTarget;
                const title = songDiv.getAttribute('data-title');
                const album = songDiv.getAttribute('data-album');
                const artist = songDiv.getAttribute('data-artist');
                const cover = songDiv.getAttribute('data-cover');
                const audioPath = songDiv.getAttribute('data-audio');

                // Update now playing section
                document.getElementById('songTitle').textContent = title;
                document.getElementById('songArtist').textContent = artist;
                document.getElementById('songAlbum').textContent = album;
                document.getElementById('albumCover').src = cover;

                // Update mini player
                document.getElementById('floatingTitle').textContent = title;
                document.getElementById('floatingArtist').textContent = artist;
                document.getElementById('floatingAlbumCover').src = cover;

                // Set audio source and play
                audioPlayer.src = audioPath;
                audioPlayer.play();
                playPauseBtn.textContent = '‚è∏';
                floatingPlayPause.textContent = '‚è∏';

                // Show now playing section and mini player
                nowPlaying.style.display = 'flex';
                floatingMiniPlayer.style.display = 'flex';
            }
            
            // Toggle player expansion when clicking the button
            playerButton.addEventListener('click', function(e) {
                musicPlayer.classList.toggle('expanded');
                e.stopPropagation(); // Prevent event from bubbling up
                
                // If we have a last viewed song list and the player is expanded, show it
                if (lastViewedSongList && musicPlayer.classList.contains('expanded')) {
                    albumList.style.display = 'none';
                    albumList.style.display = 'none';
                    document.getElementById(lastViewedSongList).style.display = 'block';
                    backButton.style.display = 'block';
                }
            });
                // Set initial volume
                audioPlayer.volume = volumeSlider.value;

                // Update volume when sliders change
                volumeSlider.addEventListener('input', function() {
                    audioPlayer.volume = this.value;
                    miniVolumeSlider.value = this.value;
                });

                miniVolumeSlider.addEventListener('input', function() {
                    audioPlayer.volume = this.value;
                    volumeSlider.value = this.value;
                });


                            
            // Handle album click - show songs
            albums.forEach(album => {
                album.addEventListener('click', function() {
                    const albumId = this.getAttribute('data-album-id');
                    const songsList = document.getElementById(`songs-${albumId}`);
                    
                    // Hide album list, show song list
                    albumList.style.display = 'none';
                    songsList.style.display = 'block';
                    backButton.style.display = 'block';
                    
                    // Store current album ID and last viewed song list
                    currentAlbumId = albumId;
                    lastViewedSongList = `songs-${albumId}`;
                });
            });
            
            // Handle back button click - return to albums
            backButton.addEventListener('click', function() {
                // Hide all song lists
                document.querySelectorAll('.song-list').forEach(list => {
                    list.style.display = 'none';
                });
                
                // Show album list, hide back button
                albumList.style.display = 'block';
                backButton.style.display = 'none';
            });
            
            // Function to load songs from song-data.js
             function loadSongs() {
                 const container = document.getElementById('songs-container');
                 container.innerHTML = ''; // Clear existing songs
                 window.albums.forEach(album => {
                     album.songs.forEach((song, index) => {
                         const songDiv = document.createElement('div');
                         songDiv.className = 'song';
                         songDiv.setAttribute('data-title', song.title);
                         songDiv.setAttribute('data-album', album.name);
                         songDiv.setAttribute('data-artist', album.artist);
                         songDiv.setAttribute('data-cover', album.cover);
                         songDiv.setAttribute('data-audio', song.path);
                         
                         songDiv.innerHTML = `
                             <div class="song-number">${index + 1}</div>
                             <div class="song-name">${song.title}</div>
                         `;
                         container.appendChild(songDiv);
                     });
                 });
                 attachSongEventListeners();
             }
 
             function attachSongEventListeners() {
                 const songs = document.querySelectorAll('.song');
                 songs.forEach(song => {
                     // Remove existing listeners to prevent duplicates
                     song.removeEventListener('click', handleSongClick);
                     song.addEventListener('click', handleSongClick);
                 });
             }
 
             function handleSongClick(event) {
                 const songDiv = event.currentTarget;
                 const title = songDiv.getAttribute('data-title');
                 const album = songDiv.getAttribute('data-album');
                 const artist = songDiv.getAttribute('data-artist');
                 const cover = songDiv.getAttribute('data-cover');
                 const audioPath = songDiv.getAttribute('data-audio');
 
                 // Update now playing section
                 document.getElementById('songTitle').textContent = title;
                 document.getElementById('songArtist').textContent = artist;
                 document.getElementById('songAlbum').textContent = album;
                 document.getElementById('albumCover').src = cover;
 
                 // Update mini player
                 document.getElementById('floatingTitle').textContent = title;
                 document.getElementById('floatingArtist').textContent = artist;
                 document.getElementById('floatingAlbumCover').src = cover;
 
                 // Set audio source and play
                 audioPlayer.src = audioPath;
                 audioPlayer.play();
                 playPauseBtn.textContent = '‚è∏';
                 floatingPlayPause.textContent = '‚è∏';
 
                 // Show now playing section and mini player
                 nowPlaying.style.display = 'flex';
                 floatingMiniPlayer.style.display = 'flex';
             }
             
                 // Call loadSongs after DOMContentLoaded
                 loadSongs();
             
             // Play/Pause functionality
            playPauseBtn.addEventListener('click', togglePlayPause);
            floatingPlayPause.addEventListener('click', togglePlayPause);
            
            function togglePlayPause() {
                if (audioPlayer.paused) {
                    audioPlayer.play()
                        .then(() => {
                            playPauseBtn.innerHTML = '‚ùö‚ùö';
                            floatingPlayPause.innerHTML = '‚ùö‚ùö';
                        })
                        .catch(error => {
                            console.error('Error playing audio:', error);
                        });
                } else {
                    audioPlayer.pause();
                    playPauseBtn.innerHTML = '‚ñ∂';
                    floatingPlayPause.innerHTML = '‚ñ∂';
                }
            }
            
            // Update progress bar as song plays
            audioPlayer.addEventListener('timeupdate', function() {
                if (!isDragging) {
                    const percentage = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                    progressBar.style.width = `${percentage}%`;
                    progressHandle.style.left = `${percentage}%`;
                    
                    // Update current time
                    const minutes = Math.floor(audioPlayer.currentTime / 60);
                    const seconds = Math.floor(audioPlayer.currentTime % 60).toString().padStart(2, '0');
                    currentTime.textContent = `${minutes}:${seconds}`;
                }
            });
            
            // Handle progress bar clicks and drags
            progressContainer.addEventListener('mousedown', function(e) {
                isDragging = true;
                updateProgress(e);
            });
            
            document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    updateProgress(e);
                }
            });
            
            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                }
            });
            
            function updateProgress(e) {
                const bounds = progressContainer.getBoundingClientRect();
                const x = e.clientX - bounds.left;
                const percentage = Math.min(Math.max(x / bounds.width, 0), 1);
                
                progressBar.style.width = `${percentage * 100}%`;
                progressHandle.style.left = `${percentage * 100}%`;
                
                // Set audio time
                audioPlayer.currentTime = percentage * audioPlayer.duration;
            }
            
            // Previous/Next track functionality
            prevTrack.addEventListener('click', playPreviousSong);
            floatingPrev.addEventListener('click', playPreviousSong);
            
            nextTrack.addEventListener('click', playNextSong);
            floatingNext.addEventListener('click', playNextSong);
            
            function playPreviousSong() {
                if (!currentSong) return;
                
                const albumId = currentAlbumId;
                const songs = albumSongsMap[albumId];
                const currentIndex = songs.indexOf(currentSong);
                
                if (currentIndex > 0) {
                    const prevSong = songs[currentIndex - 1];
                    prevSong.click();
                } else {
                    // Wrap around to the last song
                    const lastSong = songs[songs.length - 1];
                    lastSong.click();
                }
            }
            
            function playNextSong() {
                if (!currentSong) return;
                
                const albumId = currentAlbumId;
                const songs = albumSongsMap[albumId];
                const currentIndex = songs.indexOf(currentSong);
                
                if (currentIndex < songs.length - 1) {
                    const nextSong = songs[currentIndex + 1];
                    nextSong.click();
                } else {
                    // Wrap around to the first song
                    const firstSong = songs[0];
                    firstSong.click();
                }
            }
            
            // When song ends, play next song
            audioPlayer.addEventListener('ended', function() {
                playNextSong();
            });
            
            // Click outside to close player
            document.addEventListener('click', function(e) {
                // Check if the click was inside the music player or related elements
                const isClickInside = musicPlayer.contains(e.target) || 
                                     nowPlaying.contains(e.target) ||
                                     floatingMiniPlayer.contains(e.target);
                
                // If click was outside, collapse the player
                if (!isClickInside && musicPlayer.classList.contains('expanded')) {
                    musicPlayer.classList.remove('expanded');
                }
            });
        });
    
        // Mobile Menu Functionality
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
        
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#navLinks') && !e.target.closest('#hamburger')) {
                navLinks.classList.remove('active');
            }
        });
        
        // Animate skill bars on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const skills = entry.target.querySelectorAll('.skill-progress');
                    skills.forEach(skill => {
                        const width = skill.style.width;
                        skill.style.width = '0%';
                        setTimeout(() => {
                            skill.style.width = width;
                        }, 100);
                    });
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        
        const skillCategories = document.querySelectorAll('.skill-category');
        skillCategories.forEach(category => {
            observer.observe(category);
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-links a').forEach(link => {
                        link.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Close mobile menu after clicking a link
                    navLinks.classList.remove('active');
                }
            });
        });
        
        // Active link highlighting based on scroll position
        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY;
            
            document.querySelectorAll('section').forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                const sectionId = section.getAttribute('id');
                
                if (sectionId && scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    document.querySelectorAll('.nav-links a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${sectionId}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
            
            // Keep Home active when at the top
            if (scrollPosition < 100) {
                document.querySelectorAll('.nav-links a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#') {
                        link.classList.add('active');
                    }
                });
            }
        });
    </script>
</body>
</html>
